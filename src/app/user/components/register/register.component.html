<div class="soloCard">
  <mat-vertical-stepper #verticalStepper linear>
    <mat-step label="Choose a username" [stepControl]="usernameControl" [editable]="isEditable">
      <form [formGroup]="registerFormGroup">
        <mat-form-field>
          <label>
            <input matInput placeholder="Username" formControlName="username">
          </label>
          <mat-error *ngIf="usernameControl.errors?.username">
            Enter a valid username.
          </mat-error>
          <mat-error *ngIf="usernameControl.errors?.uniqueUsername">
            Username already exists.
          </mat-error>
        </mat-form-field>
        <div class="nextButtonWrapper">
          <button type="submit" mat-flat-button matStepperNext
                  color="primary">Next
          </button>
        </div>
      </form>
    </mat-step>
    <mat-step label="Enter your email" [stepControl]="emailControl" [editable]="isEditable">
      <form [formGroup]="registerFormGroup">
        <mat-form-field>
          <label>
            <input matInput placeholder="E-Mail" formControlName="email">
          </label>
          <mat-error *ngIf="email.invalid && email.dirty">
            Please enter a valid email.
          </mat-error>
        </mat-form-field>
        <div class="nextButtonWrapper">
          <button type="submit" mat-flat-button matStepperNext color="primary">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step label="Enter a password" [stepControl]="passwordFormGroup" [editable]="isEditable">
      <form [formGroup]="registerFormGroup">
        <div>
          <mat-form-field>
            <label>
              <input type="password" matInput placeholder="Password" formControlName="password">
            </label>
            <mat-error *ngIf="password.invalid && password.touched">
              Please enter a valid password.
            </mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field>
            <label>
              <input type="password" matInput placeholder="Repeat password"
                     formControlName="repeatPassword">
            </label>
            <mat-error *ngIf="confirmPasswordControl.errors?.confirmPassword">
              Passwords do not match.
            </mat-error>
          </mat-form-field>
        </div>
        <div class="nextButtonWrapper">
          <button type="submit" mat-flat-button matStepperNext color="primary">Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step label="Done">
      <form [formGroup]="registerFormGroup" (ngSubmit)="submitHandler()">
        <div class="nextButtonWrapper">
          <button type="submit" mat-flat-button color="primary">Finish registration</button>
        </div>
      </form>
    </mat-step>
  </mat-vertical-stepper>
</div>
